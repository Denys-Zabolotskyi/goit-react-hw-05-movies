{"version":3,"file":"static/js/281.72df270a.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","components/Searchbar/Searchbar.styled.js","components/Searchbar/Searchbar.jsx","pages/Movies.jsx","services/api.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const List = styled.ul`\n  /* display: flex; */\n  flex-wrap: wrap;\n  justify-content: space-around;\n`;\n\nexport const MovieItem = styled.li`\n  flex-basis: calc((100% - 40px) / 2);\n  font-size: 26px;\n  font-weight: 500;\n  text-align: center;\n`;\n\nexport const Link = styled(NavLink)`\n  color: black;\n\n  &:hover,\n  &:focus {\n    color: red;\n    font-weight: 700;\n  }\n`;\n","import { useLocation } from 'react-router-dom';\nimport { List, MovieItem, Link } from './MovieList.styled';\n\nexport const MovieList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <List>\n      {movies.map(({ id, title }) => (\n        <MovieItem key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {title}\n          </Link>\n        </MovieItem>\n      ))}\n    </List>\n  );\n};\n","import styled from 'styled-components';\n\nexport const SearchbarBox = styled.div``;\n\nexport const Form = styled.form`\n  display: flex;\n  border: 1px solid #d1d5db;\n  margin-bottom: 16px;\n  @media (min-width: 768px) {\n    margin-left: auto;\n    margin-right: auto;\n    max-width: 500px;\n  }\n`;\n\nexport const Input = styled.input`\n  flex: 1;\n  margin-right: 10px;\n  border-color: transparent;\n  font-size: inherit;\n  padding-left: 3px;\n`;\n\nexport const Button = styled.button`\n  align-items: center;\n  display: flex;\n  padding: 4px;\n  border: 0;\n  font-size: inherit;\n  background-color: inherit;\n  transition: color 0.2s linear;\n  :hover {\n    color: red;\n  }\n  span {\n    margin-right: 4px;\n  }\n  cursor: pointer;\n`;\n","import React, { useState } from 'react';\n// import { useSearchParams } from 'react-router-dom';\nimport { Form, Button, Input } from './Searchbar.styled';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport { toast } from 'react-hot-toast';\n\nexport const SearchBar = ({ onSubmit }) => {\n  const [inputSearchName, setInputSearchName] = useState('');\n\n  const handleNameChange = evt => {\n    const target = evt.currentTarget.value.toLowerCase();\n    setInputSearchName(target);\n  };\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    if (inputSearchName.trim() === '') {\n      toast.error('Please, enter search word!', {\n        position: 'top-center',\n        duration: 2000,\n      });\n      return;\n    }\n    onSubmit(inputSearchName);\n    setInputSearchName('');\n  };\n\n  return (\n    <Form onSubmit={handleSubmit}>\n      <Input\n        type=\"text\"\n        autocomplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        onChange={handleNameChange}\n        value={inputSearchName}\n      />\n      <Button type=\"submit\">\n        <AiOutlineSearch />\n      </Button>\n    </Form>\n  );\n};\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { SearchBar } from 'components/Searchbar/Searchbar';\nimport { fetchSearchData } from 'services/api';\nimport { toast } from 'react-hot-toast';\nimport { MovieList } from 'components/MovieList/MovieList';\nimport { Loader } from 'components/Loader/Loader';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [page, setPage] = useState(1);\n  const [IsLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n\n  const handleFormSubmit = inputSearchName => {\n    setSearchParams(inputSearchName !== '' ? { query: inputSearchName } : {});\n    setMovies([]);\n    setPage(1);\n  };\n\n  useEffect(() => {\n    if (!query) {\n      return;\n    }\n    const findMovies = async () => {\n      try {\n        setIsLoading(true);\n        const dataResponse = await fetchSearchData(query, page);\n        dataResponse.results.length === 0\n          ? toast.error(\n              'Sorry! There is no movies with this name. Try something else!',\n              {\n                position: 'top-center',\n                duration: 2000,\n              }\n            )\n          : setMovies(dataResponse.results);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    findMovies();\n  }, [page, query]);\n\n  return (\n    <>\n      <SearchBar onSubmit={handleFormSubmit} />\n      {IsLoading && <Loader />}\n      {movies && <MovieList movies={movies} />}\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst KEY = '1a4aff832e717c565fcddbbcd57e889d';\n\nexport const fetchTrendMovies = async () => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/trending/movie/week?api_key=${KEY}&page=1`\n    );\n    return data.results;\n  } catch (error) {\n    console.error('Something wrong! Can not get trends movies now.' + error);\n  }\n};\n\nexport const fetchMovieById = async movieId => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/movie/${movieId}?api_key=${KEY}&page=1`\n    );\n    return data;\n  } catch (error) {\n    console.error(\n      'Something wrong! Can not get trends movies by ID now.' + error\n    );\n  }\n};\n\nexport const fetchDataByCast = async movieId => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}`\n    );\n    return data;\n  } catch (error) {\n    // throw error;\n    console.error('Something wrong! Can not search films by ID' + error);\n  }\n};\nexport const fetchDataByReviews = async movieId => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}`\n    );\n    return data;\n  } catch (error) {\n    // throw error;\n    console.error('Something wrong! Can not search films by ID' + error);\n  }\n};\n\nexport const fetchSearchData = async (query, page) => {\n  try {\n    const { data } = await axios.get(\n      `${BASE_URL}/search/movie?api_key=${KEY}&query=${query}&page=${page}`\n    );\n    return data;\n  } catch (error) {\n    console.error('Something wrong! Can not search films' + error);\n  }\n};\n"],"names":["List","styled","MovieItem","Link","NavLink","MovieList","movies","location","useLocation","map","id","title","to","state","from","Form","Input","Button","SearchBar","onSubmit","useState","inputSearchName","setInputSearchName","evt","preventDefault","trim","toast","position","duration","type","autocomplete","autoFocus","placeholder","onChange","target","currentTarget","value","toLowerCase","setMovies","page","setPage","IsLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","query","get","useEffect","findMovies","fetchSearchData","dataResponse","results","length","console","log","Loader","BASE_URL","KEY","fetchTrendMovies","axios","data","error","fetchMovieById","movieId","fetchDataByCast","fetchDataByReviews"],"sourceRoot":""}